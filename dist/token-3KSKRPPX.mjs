"use client";
import{a as k,b as f}from"./chunk-MTAVILEA.mjs";import{e as _,o as p}from"./chunk-IGSD7UZ4.mjs";var y=_((g,l)=>{p();var c=Object.defineProperty,O=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyNames,u=Object.prototype.hasOwnProperty,v=(e,r)=>{for(var o in r)c(e,o,{get:r[o],enumerable:!0})},T=(e,r,o,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of d(r))!u.call(e,i)&&i!==o&&c(e,i,{get:()=>r[i],enumerable:!(n=O(r,i))||n.enumerable});return e},w=e=>T(c({},"__esModule",{value:!0}),e),s={};v(s,{refreshToken:()=>h});l.exports=w(s);var a=k(),t=f();async function h(){let{projectId:e,teamId:r}=(0,t.findProjectInfo)(),o=(0,t.loadToken)(e);if(!o||(0,t.isExpired)((0,t.getTokenPayload)(o.token))){let n=(0,t.getVercelCliToken)();if(!n)throw new a.VercelOidcTokenError("Failed to refresh OIDC token: login to vercel cli");if(!e)throw new a.VercelOidcTokenError("Failed to refresh OIDC token: project id not found");if(o=await(0,t.getVercelOidcToken)(n,e,r),!o)throw new a.VercelOidcTokenError("Failed to refresh OIDC token");(0,t.saveToken)(o,e)}process.env.VERCEL_OIDC_TOKEN=o.token}});export default y();
